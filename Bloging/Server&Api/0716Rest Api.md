# 1. Rest API ??

Rest APIλ€ Representational State Transfer μ¦‰, REST μ•„ν‚¤ν…μ² μ¤νƒ€μΌμ„ λ”°λ¥΄λ” APIμ…λ‹λ‹¤.

APIλ” λ‹¤λ¥Έ μ†ν”„νΈμ›¨μ–΄ μ‹μ¤ν…κ³Ό ν†µμ‹ ν•κΈ° μ„ν•΄ λ”°λΌμ•Ό ν•λ” κ·μΉ™μ΄λ‚ ν•μ‹μ„ μ •μν• κ²ƒμ΄λ©°, μ„λ΅ λ‹¤λ¥Έ μ• ν”λ¦¬μΌ€μ΄μ… λλ” μ¥μΉκ°€ μ„λ΅ λ°μ΄ν„°λ‚ κΈ°λ¥μ„ κµν™ν•κ³  μƒνΈμ‘μ©ν•  μ μλ„λ΅ λ„μ™€μ¤λ‹λ‹¤.

### β”οΈ REST μ•„ν‚¤ν…μ² ?

APIμ μ‘λ™ λ°©μ‹μ— λ€ν• μ΅°κ±΄μ„ λ¶€κ³Όν•λ” μ†ν”„νΈμ›¨μ–΄ μ•„ν‚¤ν…μ²λ΅, RESTλ” μ²μμ— μΈν„°λ„·κ³Ό κ°™μ€ λ³µμ΅ν• λ„¤νΈμ›ν¬μ—μ„ ν†µμ‹ μ„ κ΄€λ¦¬ν•κΈ° μ„ν• μ§€μΉ¨μΌλ΅ λ§λ“¤μ–΄μ΅μµλ‹λ‹¤.

#### π€ νΉμ§•

- ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°

    ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³  μ„λ²„λ” μ”μ²­μ— μ‘λ‹µμ„ λ³΄λƒ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” λ…λ¦½μ μΌλ΅ κ°λ°ν•κ³  μ΄μν•  μ μμµλ‹λ‹¤.

- κ· μΌν• μΈν„°νμ΄μ¤

    μ„λ²„λ” ν‘μ¤€ν™”λ ν•μ‹μΌλ΅ λ¦¬μ†μ¤λ¥Ό ν‘ν„ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” λ¦¬μ†μ¤λ¥Ό μ‹λ³„ν•κ³  μ΅°μ‘ν•  μ μμµλ‹λ‹¤. λ¦¬μ†μ¤λ” URI(Uniform Resource Identifier)λ΅ μ‹λ³„λκ³ , Http λ©”μ„λ“ (GET, PUT, POST, DELETE)λ΅ μ΅°μ‘λ©λ‹λ‹¤.

    μ„λ²„λ” μκΈ° κΈ°μ μ  λ©”μ‹μ§€μ™€ ν•μ΄νΌλ§ν¬λ¥Ό μ „μ†΅ν•΄ ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό μ μ ν•κ² μ‚¬μ©ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

- λ¬΄ μƒνƒμ„±

    μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μƒνƒ μ •λ³΄λ¥Ό μ €μ¥ν•μ§€ μ•κ³ , κ° μ”μ²­μ€ λ…λ¦½μ μΌλ΅ μ²λ¦¬λ©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„μμ μμ„λ΅ λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•  μ μμΌλ©° λ¨λ“  μ”μ²­μ€ λ‹¤λ¥Έ μ”μ²­κ³Ό λ¶„λ¦¬ λ©λ‹λ‹¤. μ΄λ• μ”μ²­μ—λ” λ¨λ“  μ •λ³΄κ°€ ν¬ν•¨λμ–΄μ•Ό ν•©λ‹λ‹¤.

- μΊμ‹ κ°€λ¥μ„±

    μ„λ²„λ” μ‘λ‹µμ— μΊμ‹ κ°€λ¥ μ—¬λ¶€λ¥Ό λ…μ‹ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹ λ μ‘λ‹µμ„ μ¬μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ¦‰, μ„±λ¥κ³Ό ν™•μ¥μ„±μ„ ν–¥μƒν•  μ μμµλ‹λ‹¤.

- μ½”λ“ μ¨ λ””λ§¨λ“ (μ„ νƒ μ‚¬ν•­)

    μ„λ²„λ” ν•„μ”μ— λ”°λΌ ν΄λΌμ΄μ–ΈνΈλ΅ μ‹¤ν–‰ν•  μ μλ” μ½”λ“λ¥Ό μ „μ†΅ν•μ—¬ ν΄λΌλ¦¬μ–ΈνΈμ κΈ°λ¥μ„ μΌμ‹μ μΌλ΅ ν™•μ¥ν•κ±°λ‚ μ‚¬μ©μ μ§€μ •ν•  μ μμµλ‹λ‹¤.

#### π¤” μ™ Rest APIλ¥Ό μ‚¬μ©ν• κΉ?

- μ μ—°μ„±

    Rest APIλ” μ™„μ „ν• ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¶„λ¦¬λ¥Ό μ§€μ›ν•¨μΌλ΅μ¨ κ° λ¶€λ¶„μ΄ λ…λ¦½μ μΌλ΅ λ°μ „ν•  μ μλ„λ΅ λ‹¤μ–‘ν• μ„λ²„ κµ¬μ„± μ”μ†λ¥Ό λ‹¨μν™”, λ¶„λ¦¬ν•©λ‹λ‹¤.

    μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ…μ ν”λ«νΌ or κΈ°μ  λ³€κ²½μ€ ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ— μν–¥μ„ μ£Όμ§€ μ•μµλ‹λ‹¤. μ΄λ” μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°κ°μ— μ μ—°μ„±μ„ λ¶€μ—¬ν•  μ μκ³ , Rest APIλ” λ‹¤μ–‘ν• μΆ…λ¥μ μ”μ²­μ„ μ²λ¦¬ν•  μ μμΌλ©° λ‹¤μ–‘ν• ν•μ‹μ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  μ μμµλ‹λ‹¤.

- ν™•μ¥μ„±

    REST APIλ” μ„λ΅ λ‹¤λ¥Έ λ¥λ ¥μ„ κ°–μ¶ μ†ν”„νΈμ›¨μ–΄ μ‹μ¤ν… κ°„μ— ν†µμ‹ ν•  μ μλ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤. REST μ•„ν‚¤ν…μ²μ νΉμ§• μ¤‘ ν•λ‚μΈ λ¬΄ μƒνƒλ” μ„λ²„κ°€ κ³Όκ±° ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ •λ³΄λ¥Ό μ μ§€ν•  ν•„μ”κ°€ μ—†κΈ° λ•λ¬Έμ— μ„λ²„μ λ΅λ“λ¥Ό μ κ±°ν•λ©° μ΄λ” μ„λ²„κ°€ λ” ν™•μ¥λ  μ μμµλ‹λ‹¤.

    λν• μ κ΄€λ¦¬λ μΊμ‹±μ€ μΌλ¶€ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ‘μ©μ„ λ¶€λ¶„μ μΌλ΅ λλ” μ™„μ „ν μ κ±°ν•μ—¬ ν†µμ‹  λ³‘λ© ν„μƒμ„ μΌμΌν‚¤μ§€ μ•μΌλ©΄μ„ ν™•μ¥μ„±μ„ μ§€μ›ν•©λ‹λ‹¤.

- λ…λ¦½μ„±

    Rest APIλ” μ‚¬μ©λλ” κΈ°μ κ³Ό λ…λ¦½μ μ΄κ³ , API μ„¤κ³„ μμ²΄μ— μν–¥μ„ μ£Όμ§€μ•μΌλ©° λ‹¤μ–‘ν• ν”„λ΅κ·Έλλ° μ–Έμ–΄λ΅ ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ¨λ‘ μ‘μ„±ν•  μ μμΌλ©° ν†µμ‹ μ— μν–¥μ„ μ£Όμ§€μ•μ•„ μ–‘μ½μ κΈ°μ μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤.

#### π€ Rest APIλ¥Ό μ”μ²­ν•  λ• ν•„μ”ν• μ”μ†

- κ³ μ  λ¦¬μ†μ¤ μ‹λ³„μ

    μ„λ²„λ” κ³ μ ν• λ¦¬μ†μ¤ μ‹λ³„μλ΅ κ° λ¦¬μ†μ¤λ¥Ό μ‹λ³„ν•©λ‹λ‹¤. Rest μ„λΉ„μ¤ κ²½μ° URLμ„ μ‚¬μ©ν•΄ μ‹λ³„ν•©λ‹λ‹¤. URLμ€ λ¦¬μ†μ¤μ— λ€ν• κ²½λ΅λ¥Ό μ§€μ •ν•λ©°, μ›Ήνμ΄μ§€λ¥Ό λ°©λ¬Έν•κΈ° μ„ν•΄ λΈλΌμ°μ €μ— μ…λ ¥ν•λ” μ›Ή μ‚¬μ΄νΈ μ£Όμ†μ™€ μ μ‚¬ν•©λ‹λ‹¤. URLμ€ μ”μ²­ μ—”λ“ν¬μΈνΈλΌκ³ λ„ ν•λ©° ν΄λΌμ΄μ–ΈνΈκ°€ μ”κµ¬ν•λ” μ‚¬ν•­μ„ μ„λ²„μ— λ…ν™•ν•κ² μ§€μ •ν•©λ‹λ‹¤.

- λ©”μ„λ“

    HTTPλ¥Ό μ‚¬μ©ν•μ—¬ Rest APIλ¥Ό κµ¬ν„ν•κ³ , HTTP λ©”μ„λ“λ” λ¦¬μ†μ¤μ— μν–‰ν•΄μ•Ό ν•λ” μ‘μ—…μ„ μ„λ²„μ— μ•λ ¤μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤.

- HTTP ν—¤λ”

    μ”μ²­ ν—¤λ”λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— κµν™λλ” λ©”νƒ€ λ°μ΄ν„° μ…λ‹λ‹¤.

    - λ°μ΄ν„° : Rest API μ”μ²­μ—λ” HTTP λ©”μ„λ“κ°€ μ„±κ³µμ μΌλ΅ μ‘λ™ν•κΈ° μ„ν• λ°μ΄ν„°κ°€ ν¬ν•¨λ  μ μμµλ‹λ‹¤.

    - νλΌλ―Έν„° : μν–‰ν•΄μ•Ό ν•  μ‘μ—…μ— λ€ν• μμ„Έν• μ •λ³΄λ¥Ό μ„λ²„μ— μ κ³µν•λ” νλΌλ―Έν„°κ°€ ν¬ν•¨λ  μ μμµλ‹λ‹¤.

        - κ²½λ΅ νλΌλ―Έν„° : URL μ„Έλ¶€ μ •λ³΄λ¥Ό μ§€μ •ν•κΈ° μ„ν•΄ μ‚¬μ©ν•©λ‹λ‹¤. κ²½λ΅ νλΌλ―Έν„°λ” μ¤‘κ΄„νΈ {}λ΅ λ‘λ¬μ‹Έμ—¬ μμΌλ©°, API νΈμ¶ μ‹μ— μ‹¤μ  κ°’μΌλ΅ λ€μ²΄λμ–΄μ•Ό ν•©λ‹λ‹¤. κ²½λ΅ νλΌλ―Έν„°λ” ν•­μƒ ν•„μμ μ΄λ―€λ΅ required: trueλ¥Ό λ…μ‹ν•΄μ•Ό ν•©λ‹λ‹¤.

        - μΏΌλ¦¬ νλΌλ―Έν„° : URLμ λμ— λ¶™μ–΄μ„ μ”μ²­μ— λ€ν• μ¶”κ°€μ μΈ μ •λ³΄λ‚ μ΅°κ±΄μ„ μ „λ‹¬ν•λ” λ³€μλ¥Ό λ§ν•©λ‹λ‹¤. μΏΌλ¦¬ νλΌλ―Έν„°λ” URLκ³Ό λ¬Όμν‘(?)λ΅ κµ¬λ¶„λλ©°, μ—¬λ¬ κ°μ μΏΌλ¦¬ νλΌλ―Έν„°λ” μ•°νΌμƒλ“(&)λ΅ μ—°κ²°λ©λ‹λ‹¤.

            μΏΌλ¦¬ νλΌλ―Έν„°λ” λ¦¬μ†μ¤μ μ„μΉλ¥Ό λ‚νƒ€λ‚΄λ” κ²½λ΅ νλΌλ―Έν„°μ™€ λ‹¬λ¦¬ λ¦¬μ†μ¤μ μ •λ ¬, νμ΄μ§•, ν•„ν„°λ§ λ“±μ μ‘μ—…μ„ μ •μν•©λ‹λ‹¤. μΏΌλ¦¬ νλΌλ―Έν„°λ” ν•„μμ μ΄μ§€ μ•μ„ μ μμµλ‹λ‹¤.

                - /users?role=admin : μ—­ν• μ΄ adminμΈ μ‚¬μ©μλ“¤μ„ μ΅°νν•λ” API

                - /notes?offset=100&limit=50 : λ…ΈνΈλ“¤μ„ 100λ²μ§Έλ¶€ν„° 50κ°μ”© μ΅°νν•λ” A

#### π€ Rest API μ„λ²„ μ‘λ‹µμ— ν¬ν•¨λ μ”μ†

- μƒνƒ μ½”λ“

    - μ„λ²„κ°€ μ”μ²­μ„ μ²λ¦¬ν• κ²°κ³Όλ¥Ό λ‚νƒ€λ‚΄λ” μ«μ μ½”λ“μ…λ‹λ‹¤. 

        μ²« λ²μ§Έ μλ¦¬λ” μƒνƒ μ½”λ“μ λ¶„λ¥λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤. 1xxλ” μ •λ³΄μ „λ‹¬, 2xxλ” μ„±κ³µ, 3xxλ” λ¦¬ λ‹¤μ΄λ ‰μ…, 4xxλ” ν΄λΌμ΄μ–ΈνΈ μ¤λ¥, 5xxλ” μ„λ²„ μ¤λ¥λ¥Ό μλ―Έν•©λ‹λ‹¤.

        λ‘ λ²μ§Έ μλ¦¬λ” μƒνƒ μ½”λ“μ μ„Έλ¶€ λ¶„λ¥λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, 4xxμ—μ„ 40xλ” μΌλ°μ μΈ ν΄λΌμ΄μ–ΈνΈ μ¤λ¥, 41xλ” μΈμ¦ κ΄€λ ¨ μ¤λ¥λ¥Ό μλ―Έν•©λ‹λ‹¤.

        μ„Έ λ²μ§Έ μλ¦¬λ” μƒνƒ μ½”λ“μ κµ¬μ²΄μ μΈ μλ―Έλ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, 404λ” μ”μ²­ν• λ¦¬μ†μ¤κ°€ μ—†μ, 401μ€ μΈμ¦μ΄ ν•„μ”ν•¨μ„ μλ―Έν•©λ‹λ‹¤.

    - ex)

        - 200 - OK μƒνƒμ½”λ“λ΅ μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—μμ„ μλ―Έ
        
        - 301 - Moved Permanently μƒνƒ μ½”λ“λ΅ μ”μ²­ν• λ¦¬μ†μ¤κ°€ μκµ¬μ μΌλ΅ λ‹¤λ¥Έ μ„μΉλ΅ λ¦¬ λ‹¤μ΄λ ‰νΈ λ¨μ„ μλ―Έ, μƒλ΅μ΄ μ„μΉλ” Location ν—¤λ”μ— λ…μ‹

        - 400 - Bad Request μƒνƒ μ½”λ“λ΅ μ”μ²­μ΄ μλ»λμ—κ±°λ‚ μ„λ²„κ°€ μ΄ν•΄ν•  μ μ—†μμ„ μλ―Έ

        - 404 - Not Found μƒνƒ μ½”λ“λ΅ μ”μ²­ν• λ¦¬μ†μ¤κ°€ μ„λ²„μ— μ΅΄μ¬ν•μ§€ μ•μμ„ μλ―Έ

        - 500 - Internal Server Error μƒνƒ μ½”λ“λ΅ μ„λ²„μ—κ² μ¤λ¥κ°€ λ°μƒν•μ—¬ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μμ„ μλ―Έ

- ν—¤λ”

    - μ„λ²„κ°€ μ‘λ‹µμ— λ€ν• μ¶”κ°€μ μΈ μ •λ³΄λ‚ μ΅°κ±΄μ„ μ „λ‹¬ν•λ” νλΌλ―Έν„°μ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ Content-Typeμ€ μ‘λ‹µμ λ°μ΄ν„° ν•μ‹μ„, Locationμ€ μƒλ΅ μƒμ„±λ λ¦¬μ†μ¤μ μ„μΉλ¥Ό, Set-Cookieλ” μΏ ν‚¤λ¥Ό μ„¤μ •ν•λ” λ“±μ μ—­ν• μ„ ν•©λ‹λ‹¤.

- λ°”λ””(λ©”μ‹μ§€ λ³Έλ¬Έ)

    - μ„λ²„κ°€ μ”μ²­μ— λ€ν• λ°μ΄ν„°λ‚ κΈ°λ¥μ„ μ „λ‹¬ν•λ” λ¶€λ¶„μ…λ‹λ‹¤. λ°”λ””λ” JSON, XML, HTML λ“±μ ν•μ‹μΌλ΅ μΈμ½”λ”©λ©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ AmyλΌλ” μ‚¬λμ μ΄λ¦„κ³Ό λ‚μ΄λ¥Ό μ”μ²­ν•λ©΄ μ„λ²„λ” λ‹¤μκ³Ό κ°™μ΄ JSON ν‘ν„μ„ λ°ν™ν•©λ‹λ‹¤. { "name": "Amy", "age": 30 }