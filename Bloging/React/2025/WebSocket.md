# ðŸ“š WebSocket ì‚¬ìš©í•˜ê¸°

### ðŸ¤” ì›¹ ì†Œì¼“ì´ëž€?

ì›¹ ì†Œì¼“ì€ ì›¹ ì•±ê³¼ ì„œë²„ ê°„ì˜ ì§€ì†ì ì¸ ì—°ê²°ì„ ì œê³µí•˜ëŠ” í”„ë¡œí† ì½œì´ë©° TCPë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìž‘ë™í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. HTTPì™€ëŠ” ë‹¬ë¦¬, ì›¹ ì†Œì¼“ ì—°ê²°ì€ í•œ ë²ˆ ì—´ë¦° í›„ ê³„ì† ìœ ì§€ë˜ê³ , ì„œë²„ë‚˜ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í•­ìƒ ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìžˆëŠ” íŠ¹ì§•ì´ ìžˆìŠµë‹ˆë‹¤. ì£¼ë¡œ ì‹¤ì‹œê°„ í†µì‹ , ì‹¤ì‹œê°„ ì±„íŒ…, ê²Œìž„, ì£¼ì‹ ì‹œìž¥ ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

TCPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì›¹ ì†Œì¼“ì€ ì‹ ë¢°ì„± ìžˆëŠ” ë°ì´í„° ì „ì†¡ì„ ë³´ìž¥í•˜ë©°, ë©”ì‹œì§€ ê²½ê³„ë¥¼ ì¡´ì¤‘í•˜ê³  ìˆœì„œê°€ ë³´ìž¥ëœ ì–‘ë°©í–¥ í†µì‹ ì„ ì œê³µí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ë•Œ ë°ì´í„°ëŠ” Packet í˜•íƒœë¡œ ì „ë‹¬ë˜ë©°, ì „ì†¡ì€ ì—°ê²° ì¤‘ë‹¨ê³¼ ì¶”ê°€ HTTP ìš”ì²­ ì—†ì´ ì–‘ë°©í–¥ìœ¼ë¡œ ì´ë¤„ì§‘ë‹ˆë‹¤.

### ðŸ¤” ì›¹ ì†Œì¼“ ì—°ë™í•˜ê¸° (ë¹—ì¸ API)

```ts
const socket = new WebSocket('wss://example/chat');
```

#### 1. ì—°ê²°

```ts
// 1. ì›¹ì†Œì¼“ ì—°ê²° ìƒì„±
const ws = new WebSocket('wss://pubwss.bithumb.com/pub/ws');

// 2. ì—°ê²° ì„±ê³µ ì‹œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸
ws.onopen = () => {
  console.log('ì—°ê²° ì„±ê³µ!');

  // 3. êµ¬ë…í•˜ê³  ì‹¶ì€ ë°ì´í„° ìš”ì²­
  const message = {
    type: 'ticker', // ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´ ìš”ì²­
    symbols: ['BTC_KRW'], // ë¹„íŠ¸ì½”ì¸ ê°€ê²©
    tickTypes: ['30M'], // 30ë¶„ ë‹¨ìœ„ ë°ì´í„°
  };
  ws.send(JSON.stringify(message));
};

// 4. ì„œë²„ë¡œë¶€í„° ë°ì´í„° ìˆ˜ì‹ 
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('ë°›ì€ ë°ì´í„°:', data);
};

// 5. ì—ëŸ¬ ì²˜ë¦¬
ws.onerror = (error) => {
  console.error('ì›¹ì†Œì¼“ ì—ëŸ¬:', error);
};

// 6. ì—°ê²° ì¢…ë£Œ
ws.onclose = () => {
  console.log('ì—°ê²° ì¢…ë£Œ');
};
```
