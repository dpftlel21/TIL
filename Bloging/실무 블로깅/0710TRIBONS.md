# 📝 인턴 블로깅 

## ✔️ 6월 후기

6월은 이사님이 주관하시는 공통 코드 탐방을 끝내고, 실제적으로 짝을 정해서 유저의 니즈에 맞는 프로그램을 개발하는 과정을 수행했다. 이 과정에서 나는 사은품과 관련된 재고 처리를 맡았다. 일단 이 과정이 기존에는 엑셀 파일을 통한 수기 작업으로 이뤄져 유저가 잘못 기입하여 발생하는 데이터 오류, 이로 인해 처리에 대한 불편함 등을 해소하기 위한 목적으로 기획했다.

첫 화면은 별도의 입력을 받지않고, 수기로 입력한 엑셀 데이터를 업로드 하게 되면 기존의 DB와 비교하여 일치, 불일치에 대한 상태값으로 유저가 바로 인식해서 수정할 수 있게끔 하려고 했다. 기존 매장에 대한 오기입을 막고자 엑셀파일 업로드시 틀린 부분에 대한 상태값이 N일 때 `백그라운드` 클래스를 줘서 css를 제어하여 좀 더 직관적으로 유저가 인식할 수 있게끔 처리했고, `ag-grid`로 이뤄진 컴포넌트에 대해 컬럼값, 데이터 등을 그대로 보여주게끔 하는 엑셀 내려받기 기능을 추가하여 유저가 좀 더 쉽게 접근하고, 수정할 수 있도록 했다.

엑셀 파일을 내려받는 과정에서 `Node.js`와 `ajax`를 활용한 `form` 데이터를 가지고 서버와 통신하는 코드를 짰다. 그냥 보통의 서버 통신이 아니라 `ag-grid`를 활용하여 선언한 컴포넌트에서 데이터를 처리하고 이를 `form` 데이터로 변환해서 통신해야 하기 때문에 좀 더 복잡했고, 어렵게 느껴졌다. 

그래서 공책에 데이터를 받아서 어떻게 엑셀파일에 뿌려줄지 부터 생각나는대로 적기 시작했다. 그러다보니 이 기능은 유통/물류 관련 기능을 개발하다 보면 좀 많이 사용하게 될 기능이 되지않을까? 해서 공통 기능으로 만들기로 했다. 공통 기능으로 만들려면 최대한 편하고 접근성이 좋은 UI/UX를 제공해야했고, 나는 구글링과 네이버 검색 등 다양한 경로로 파일 업로드 모달, UI에 대해 조사하게 됐고 대부분의 공통적인 부분을 도출했다. 그것은 드래그앤 드롭, 클릭시 파일 선택이 이뤄지고, 파일이 선택되면 화면에 선택된 파일에 대한 정보를 뿌려주는 것이었다.

그러다보니 뿌려진 파일에 대해서 `ag-grid`에 어떻게 뿌려질지에 대한 미리보기 버튼도 만들어 팝업으로 뿌려질 데이터에 대해 미리 볼 수 있게끔 처리도 했고, 콜백으로 엑셀 파일을 읽고, 해당 컬럼과 데이터들을 담은 배열을 반환하도록 구현했다.